{"version":3,"sources":["server/models/base.js"],"names":["BaseSchema","options","filterSchema","fSchema","schema","dbSchema","excludeDates","getDateColumns","excludeOwner","getOwnerColumns","roleBasedHtmlSchemas","roleBasedDBSchemas","Object","keys","forEach","field","title","replace","str","toUpperCase","htmlOnly","html","dbOnly","db","config","length","cloneObject","APP_CONFIG","appKey","ROLES","role","cacheKey","CONFIG_KEY_SEPERATOR","Code","collection","formKey","CONFIG_KEY_FORM_PREFIX","gridKey","CONFIG_KEY_GRID_PREFIX","dbKey","CONFIG_KEY_DB_PREFIX","code","attachHooks","attachMethods","method","attachStatics","statics","get","id","findById","execAsync","then","user","err","NOT_FOUND","reject","list","skip","limit","find","sort","createdAt","owner","type","String","Date","default","now","updatedAt","Schema","getSchema","model"],"mappings":"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","file":"server/models/base.js","sourceRoot":"../../.."}